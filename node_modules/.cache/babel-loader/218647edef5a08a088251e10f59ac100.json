{"remainingRequest":"C:\\Users\\mi\\Desktop\\vue\\vue_app_00\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\mi\\Desktop\\vue\\vue_app_00\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\mi\\Desktop\\vue\\vue_app_00\\src\\components\\login\\login.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\mi\\Desktop\\vue\\vue_app_00\\src\\components\\login\\login.vue","mtime":1551970755679},{"path":"C:\\Users\\mi\\Desktop\\vue\\vue_app_00\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1534853416000},{"path":"C:\\Users\\mi\\Desktop\\vue\\vue_app_00\\node_modules\\babel-loader\\lib\\index.js","mtime":1529635966000},{"path":"C:\\Users\\mi\\Desktop\\vue\\vue_app_00\\node_modules\\vue-loader\\lib\\index.js","mtime":1527860006000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//单独引入 Toast\nimport { Toast } from \"mint-ui\";\nexport default {\n  data: function data() {\n    return {\n      uname: \"\",\n      upwd: \"\",\n      list: []\n    };\n  },\n  methods: {\n    jump: function jump() {\n      this.$router.go(-1);\n    },\n    getList: function getList() {\n      var _this = this;\n\n      var url = \"http://127.0.0.1:3000/cartlist\";\n      this.axios.get(url).then(function (result) {\n        _this.list = result.data.data;\n        console.log(_this.list.length);\n\n        _this.$store.commit(\"updateCount\", _this.list.length);\n      });\n    },\n    btnLogin: function btnLogin() {\n      var _this2 = this;\n\n      //console.log(123);\n      //0:为button按钮绑定点击事件\n      //1:获取用户输入用户名和密码\n      var u = this.uname;\n      var p = this.upwd; //console.log(u+\"-\"+p);\n      //2:验证不能为空\n\n      var reg = /^[a-z0-9]{3,12}$/i;\n\n      if (!reg.test(u)) {\n        Toast(\"用户名格式不正确，请检查\");\n        return;\n      } //3:发送ajax请求\n\n\n      var url = \"http://127.0.0.1:3000/\";\n      url += \"login\";\n      var formdata = this.qs.stringify({\n        uname: u,\n        upwd: p\n      });\n      console.log(formdata);\n      this.axios.post(url, formdata).then(function (result) {\n        if (result.data.code == 1) {\n          //发送ajax请求，获取购物车数量\n          //调用更新updateCount()方法\n          _this2.getList();\n\n          Toast(\"登录成功，1s后跳回首页\");\n          setTimeout(function () {\n            _this2.$router.push(\"/Home\");\n          }, 1000);\n        } else {\n          Toast(\"用户名或密码有误\");\n        }\n      }); //4:失败 显示提示框\n      //5:成功 跳转home\n    }\n  },\n  created: function created() {}\n};",{"version":3,"sources":["login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsCA;AACA,SAAA,KAAA,QAAA,SAAA;AACA,eAAA;AACA,MADA,kBACA;AACA,WAAA;AACA,aAAA,EADA;AAEA,YAAA,EAFA;AAGA,YAAA;AAHA,KAAA;AAKA,GAPA;AAQA,WAAA;AACA,QADA,kBACA;AACA,WAAA,OAAA,CAAA,EAAA,CAAA,CAAA,CAAA;AACA,KAHA;AAIA,WAJA,qBAIA;AAAA;;AACA,UAAA,MAAA,gCAAA;AACA,WAAA,KAAA,CAAA,GAAA,CAAA,GAAA,EAAA,IAAA,CAAA,UAAA,MAAA,EAAA;AACA,cAAA,IAAA,GAAA,OAAA,IAAA,CAAA,IAAA;AACA,gBAAA,GAAA,CAAA,MAAA,IAAA,CAAA,MAAA;;AACA,cAAA,MAAA,CAAA,MAAA,CAAA,aAAA,EAAA,MAAA,IAAA,CAAA,MAAA;AACA,OAJA;AAKA,KAXA;AAYA,YAZA,sBAYA;AAAA;;AACA;AACA;AACA;AACA,UAAA,IAAA,KAAA,KAAA;AACA,UAAA,IAAA,KAAA,IAAA,CALA,CAMA;AACA;;AACA,UAAA,MAAA,mBAAA;;AACA,UAAA,CAAA,IAAA,IAAA,CAAA,CAAA,CAAA,EAAA;AACA,cAAA,cAAA;AACA;AACA,OAZA,CAaA;;;AACA,UAAA,MAAA,wBAAA;AACA,aAAA,OAAA;AACA,UAAA,WAAA,KAAA,EAAA,CAAA,SAAA,CAAA;AAAA,eAAA,CAAA;AAAA,cAAA;AAAA,OAAA,CAAA;AACA,cAAA,GAAA,CAAA,QAAA;AACA,WAAA,KAAA,CAAA,IAAA,CAAA,GAAA,EAAA,QAAA,EAAA,IAAA,CAAA,kBAAA;AACA,YAAA,OAAA,IAAA,CAAA,IAAA,IAAA,CAAA,EAAA;AACA;AACA;AACA,iBAAA,OAAA;;AACA,gBAAA,cAAA;AACA,qBAAA,YAAA;AACA,mBAAA,OAAA,CAAA,IAAA,CAAA,OAAA;AACA,WAFA,EAEA,IAFA;AAGA,SARA,MAQA;AACA,gBAAA,UAAA;AACA;AACA,OAZA,EAlBA,CA+BA;AACA;AACA;AA7CA,GARA;AAuDA,SAvDA,qBAuDA,CAEA;AAzDA,CAAA","sourcesContent":["<template>\r\n  <div class=\"app-login\">\r\n    <nav-bar title=\"美图账号\"></nav-bar>\r\n    <div class=\"headPlaceHolder\"></div>\r\n    <div class=\"login\">\r\n      <div class=\"login-main\">\r\n        <form>\r\n          用户名：\r\n          <input type=\"text\" name=\"uname\" v-model=\"uname\">\r\n          密码 ：\r\n          <input type=\"password\" name=\"upwd\" v-model=\"upwd\">\r\n        </form>\r\n        <mt-button type=\"primary\" size=\"large\" @click=\"btnLogin\">登录</mt-button>\r\n      </div>\r\n      <div class=\"other\">\r\n        <p class=\"desc\">其他方式登录</p>\r\n        <ul>\r\n          <li class=\"item\">\r\n            <div>\r\n              <img src=\"http://127.0.0.1:3000/img/weibo.png\" alt>\r\n            </div>\r\n            <p>新浪微博</p>\r\n          </li>\r\n          <li class=\"item\">\r\n            <div class=\"blue\">\r\n              <img src=\"http://127.0.0.1:3000/img/qq.png\" alt>\r\n            </div>\r\n            <p>QQ登录</p>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n      <div class=\"copyright\">\r\n        <p class=\"text\">©2017 Meitu, Inc. 美图公司版权所有 闽B2-20040192</p>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\n//单独引入 Toast\r\nimport { Toast } from \"mint-ui\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      uname: \"\",\r\n      upwd: \"\",\r\n      list:[]\r\n    };\r\n  },\r\n  methods: {\r\n    jump() {\r\n      this.$router.go(-1);\r\n    },\r\n    getList() {\r\n      var url = \"http://127.0.0.1:3000/cartlist\";\r\n      this.axios.get(url).then((result) => {\r\n        this.list=result.data.data;\r\n        console.log(this.list.length);\r\n        this.$store.commit(\"updateCount\", this.list.length);\r\n      });\r\n    },\r\n    btnLogin() {\r\n      //console.log(123);\r\n      //0:为button按钮绑定点击事件\r\n      //1:获取用户输入用户名和密码\r\n      var u = this.uname;\r\n      var p = this.upwd;\r\n      //console.log(u+\"-\"+p);\r\n      //2:验证不能为空\r\n      var reg = /^[a-z0-9]{3,12}$/i;\r\n      if (!reg.test(u)) {\r\n        Toast(\"用户名格式不正确，请检查\");\r\n        return;\r\n      }\r\n      //3:发送ajax请求\r\n      var url = \"http://127.0.0.1:3000/\";\r\n      url += \"login\";\r\n      var formdata = this.qs.stringify({ uname: u, upwd: p });\r\n      console.log(formdata);\r\n      this.axios.post(url, formdata).then(result => {\r\n        if (result.data.code == 1) {\r\n          //发送ajax请求，获取购物车数量\r\n          //调用更新updateCount()方法\r\n          this.getList();\r\n          Toast(\"登录成功，1s后跳回首页\");\r\n          setTimeout(() => {\r\n            this.$router.push(\"/Home\");\r\n          }, 1000);\r\n        } else {\r\n          Toast(\"用户名或密码有误\");\r\n        }\r\n      });\r\n      //4:失败 显示提示框\r\n      //5:成功 跳转home\r\n    }\r\n  },\r\n  created(){\r\n  \r\n  }\r\n};\r\n</script>\r\n<style scoped>\r\ndiv.login-header {\r\n  background: #fff;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  padding: 12px 10px;\r\n  border-bottom: 2px solid #fc3c60;\r\n}\r\ndiv.login {\r\n  background: #efefef;\r\n  padding: 40px 30px 0;\r\n}\r\n\r\na.mui-icon.mui-icon-home {\r\n  color: #000;\r\n}\r\nbutton.mint-button--primary {\r\n  background: #fc3c60;\r\n  margin-bottom: 15px;\r\n}\r\ndiv.other ul {\r\n  display: flex;\r\n  padding: 0;\r\n}\r\ndiv.other li.item {\r\n  display: flex;\r\n  flex-direction: column;\r\n  margin-right: 25px;\r\n}\r\ndiv.other li.item img {\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\ndiv.other li.item div {\r\n  width: 60px;\r\n  height: 60px;\r\n  background: #fc3c60;\r\n  padding: 10px;\r\n  border-radius: 50%;\r\n}\r\ndiv.other li.item div.blue {\r\n  background: #1578e8;\r\n}\r\ndiv.copyright p.text {\r\n  font-size: 12px;\r\n  margin-top: 100px;\r\n  text-align: center;\r\n}\r\n</style>"],"sourceRoot":"src\\components\\login"}]}